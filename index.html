<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>UK Food Trends</title>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">     
<style> 
      
      body { 
        font-family: 'Raleway', sans-serif;
      } 

    </style>
  </head>
  <body>
    <script>
      
      // Render and create the chart
      function render(data){
      }  

      function filterForDescription1(data) { 
        var filteredData = data.filter(function(row) {
          return !(row["desc2"])
        });   

        return filteredData;
      }

      function mapObjects(data) { 
        var interpretedData = data.map(function(d){ 
          return { 
            key: d.desc1, 
            values: getValues(d)
          };
        }); 
        return interpretedData;
      } 

      function getValues(row) { 
        var values = new Object();
        for (i=1974; i<=2014; i++) { 
          values[String(i)] = +row[String(i)];
        }  

        return values;
      }

      // Read the csv
      d3.csv("uk_food_trends.csv", function(data) { 
        // console.log(data);
        // console.log(data[0]);
        // console.log(data[0]["1974"]); 

        var filteredData = filterForDescription1(data);  
        var interpretedData = mapObjects(filteredData); 
        console.log(interpretedData);
      });  

    </script>
  </body>
</html>